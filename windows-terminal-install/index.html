<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Win10 的 Linux 子系统 (Windows Terminal 预览版)"><meta name="keywords" content="wsl,windows terminal"><meta name="author" content="RH.Zhao"><meta name="copyright" content="RH.Zhao"><title>Win10 的 Linux 子系统 (Windows Terminal 预览版) | RyoHei's Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-Ubuntu"><span class="toc-number">1.</span> <span class="toc-text">安装 Ubuntu</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#准备工作"><span class="toc-number">1.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#替换源镜像"><span class="toc-number">1.2.</span> <span class="toc-text">替换源镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更新系统"><span class="toc-number">1.3.</span> <span class="toc-text">更新系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用命令"><span class="toc-number">1.4.</span> <span class="toc-text">常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-Windows-Terminal-预览版"><span class="toc-number">2.</span> <span class="toc-text">安装 Windows Terminal 预览版</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">2.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#前提条件"><span class="toc-number">2.2.</span> <span class="toc-text">前提条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载安装"><span class="toc-number">2.3.</span> <span class="toc-text">下载安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ubuntu-终端配置"><span class="toc-number">3.</span> <span class="toc-text">Ubuntu 终端配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#zsh-替代-bash"><span class="toc-number">3.1.</span> <span class="toc-text">zsh 替代 bash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-oh-my-zsh"><span class="toc-number">3.2.</span> <span class="toc-text">安装 oh-my-zsh</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#窗体显示美化"><span class="toc-number">4.</span> <span class="toc-text">窗体显示美化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vim-显示美化"><span class="toc-number">4.1.</span> <span class="toc-text">vim 显示美化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ls-彩色输出"><span class="toc-number">4.2.</span> <span class="toc-text">ls 彩色输出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考"><span class="toc-number">5.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://s2.ax1x.com/2019/06/21/ZSeOjH.jpg"></div><div class="author-info__name text-center">RH.Zhao</div><div class="author-info__description text-center">Code &amp; TF 爱好者</div><div class="follow-button"><a href="https://github.com/RyoheiZhao/">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">2</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">9</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">2</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">RyoHei's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">主页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">Win10 的 Linux 子系统 (Windows Terminal 预览版)</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-08</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/笔记总结/">笔记总结</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="安装-Ubuntu"><a href="#安装-Ubuntu" class="headerlink" title="安装 Ubuntu"></a>安装 Ubuntu</h2><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>win10 版本：win + r 打开运行并输入 <code>winver</code>, 我的是 1903（OS 内部版本 18362.175）.</p>
<p><img src="https://s2.ax1x.com/2019/07/04/ZUmcHs.png" alt="winver"></p>
<p>启用或关闭 Windows 功能中勾选<strong>适用于 Linux 的 Windows 子系统</strong>选项。</p>
<p><img src="https://s2.ax1x.com/2019/07/04/ZUa2yd.png" alt="开启子系统"></p>
<p><strong>win + q</strong> 搜索开发者选项，在弹出的选项卡中勾选<strong>开发人员模式</strong>，更多注意事项<a href="https://spencerwoo.com/dowww/1-Preparations/#windows-10-💡" target="_blank" rel="noopener">看这里</a>。</p>
<p><img src="https://s2.ax1x.com/2019/07/04/ZUagQH.png" alt="开发人员模式"></p>
<a id="more"></a>

<p>在 Microsoft Store 中搜索 <strong>ubuntu</strong> 选中并安装：</p>
<p><img src="https://s2.ax1x.com/2019/07/04/ZUacSe.png" alt="ubuntu"></p>
<p>之后在 cmd 中执行 <code>bash</code> 命令，根据提示创建 ubuntu 的账户和密码。</p>
<p>配置完成后，查看一下安装的 ubuntu 版本，执行下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /etc/issue</span><br><span class="line">Ubuntu 18.04.2 LTS \n \l</span><br></pre></td></tr></table></figure>

<h3 id="替换源镜像"><a href="#替换源镜像" class="headerlink" title="替换源镜像"></a>替换源镜像</h3><p>备份 <code>/etc/apt/sources</code>  文件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">sudo vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>使用命令：<code>ggdG</code> 删除原有内容，并将清华源粘贴到 <code>sources.list</code> 文件中，以下是<a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener">清华源</a>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># 预发布软件源，不建议启用</span></span><br><span class="line"><span class="comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></span><br></pre></td></tr></table></figure>

<p><a href="https://opsx.alibaba.com/guide?lang=zh-CN&document=69a2341e-801e-11e8-8b5a-00163e04cdbb" target="_blank" rel="noopener">阿里源</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<h3 id="更新系统"><a href="#更新系统" class="headerlink" title="更新系统"></a>更新系统</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade</span><br></pre></td></tr></table></figure>

<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get update  更新源</span><br><span class="line">apt-get install package 安装包</span><br><span class="line">apt-get remove package 删除包</span><br><span class="line">apt-cache search package 搜索软件包</span><br><span class="line">apt-cache show package  获取包的相关信息，如说明、大小、版本等</span><br><span class="line">apt-get install package --reinstall  重新安装包</span><br><span class="line">apt-get -f install  修复安装</span><br><span class="line">apt-get remove package --purge 删除包，包括配置文件等</span><br><span class="line">apt-get build-dep package 安装相关的编译环境</span><br><span class="line">apt-get upgrade 更新已安装的包</span><br><span class="line">apt-get dist-upgrade 升级系统</span><br><span class="line">apt-cache depends package 了解使用该包依赖那些包</span><br><span class="line">apt-cache rdepends package 查看该包被哪些包依赖</span><br><span class="line">apt-get <span class="built_in">source</span> package  下载该包的源代码</span><br><span class="line">apt-get clean &amp;&amp; sudo apt-get autoclean 清理无用的包</span><br><span class="line">apt-get check 检查是否有损坏的依赖</span><br></pre></td></tr></table></figure>

<h2 id="安装-Windows-Terminal-预览版"><a href="#安装-Windows-Terminal-预览版" class="headerlink" title="安装 Windows Terminal 预览版"></a>安装 Windows Terminal 预览版</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>Windows Terminal 是微软公司于西雅图开幕的 Build 2019 大会上所公布的，面向 Windows10 的新命令行程序，暂时只能通过 Github 下载源码自行编译。这一程序把目前 Windows 上的 PowerShell、CMD 以及 Windows Linux 子系统三大环境实现了统一。</p>
</blockquote>
<p><a href="https://github.com/microsoft/terminal" target="_blank" rel="noopener">项目 GitHub 主页点这里</a></p>
<h3 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h3><blockquote>
<ul>
<li>You must be running Windows 1903 (build &gt;= 10.0.18362.0) or above in order to run Windows Terminal</li>
<li>You must have the <a href="https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk" target="_blank" rel="noopener">1903 SDK</a> (build 10.0.18362.0) installed</li>
<li>You must have at least <a href="https://visualstudio.microsoft.com/downloads/" target="_blank" rel="noopener">VS 2017</a> installed.</li>
<li>You must install the following Workloads via the VS Installer. If you’re running VS 2019, opening the solution will <a href="https://devblogs.microsoft.com/setup/configure-visual-studio-across-your-organization-with-vsconfig/" target="_blank" rel="noopener">prompt you to install missing components automatically</a><ul>
<li>Desktop Development with C++</li>
<li>Universal Windows Platform Development<ul>
<li>Also install the following Individual Component:<ul>
<li>C++ (v141) Universal Windows Platform Tools</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>You must also <a href="https://docs.microsoft.com/en-us/windows/uwp/get-started/enable-your-device-for-development" target="_blank" rel="noopener">enable Developer Mode in the Windows Settings app</a> to locally install and run the Terminal app</li>
</ul>
</blockquote>
<p>总结一下，你的 Win10 要在 1903 版本以上，并且安装了最新的 <a href="https://code.visualstudio.com/?wt.mc_id=vscom_downloads" target="_blank" rel="noopener">Visual Studio Code</a> 或者 <a href="https://visualstudio.microsoft.com/vs" target="_blank" rel="noopener">Visual Studio 2019</a>，并且开启了<strong>开发者模式</strong>。</p>
<h3 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h3><p><del><a href="https://cloud.baiyue.one/?/Tool/" target="_blank" rel="noopener">下载</a>已编译好的 Windows Terminal，注意<strong>先导入证书</strong>再安装程序，详细说明和视频<a href="https://www.bilibili.com/read/cv2675349" target="_blank" rel="noopener">点这里</a>。</del></p>
<p>win10 的商店可直接下载预览版了，直接搜索 Windows Terminal 即可。</p>
<p><img src="https://s2.ax1x.com/2019/07/05/ZanK0J.png" alt="windows terminal"></p>
<p>可以看到 Setting 选项，点击后通过 VS Code 打开配置文件，我没有做其他配置，只是修改了默认字体为 <a href="https://github.com/be5invis/Sarasa-Gothic" target="_blank" rel="noopener">更纱黑体</a>。</p>
<h2 id="Ubuntu-终端配置"><a href="#Ubuntu-终端配置" class="headerlink" title="Ubuntu 终端配置"></a>Ubuntu 终端配置</h2><h3 id="zsh-替代-bash"><a href="#zsh-替代-bash" class="headerlink" title="zsh 替代 bash"></a>zsh 替代 bash</h3><p>安装并设置为默认 shell</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install zsh</span><br><span class="line">sudo chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>

<p>编辑 <code>~/.bashrc</code> 文件，加入以下内容可自动加载 zsh</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -t 1;<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">exec</span> zsh</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="安装-oh-my-zsh"><a href="#安装-oh-my-zsh" class="headerlink" title="安装 oh-my-zsh"></a><a href="https://ohmyz.sh/" target="_blank" rel="noopener">安装 oh-my-zsh</a></h3><p><strong>安装命令</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br></pre></td></tr></table></figure>

<p>推荐自带的一款主题 <strong>ys</strong> 设置主题，编辑 <code>.zshrc</code> 文件修改主题设定项即可。</p>
<p><img src="https://s2.ax1x.com/2019/07/05/ZaMtXT.png" alt="theme_ys"></p>
<p><strong>安装插件</strong></p>
<p>oh-my-zsh 有两个插件目录：</p>
<ul>
<li>.oh-my-zsh/plugins: 自带插件的安装目录，其中的插件并未启用</li>
<li>.oh-my-zsh/custom/plugins: 用户安装插件的目录，下面我们要安装的插件就存放在这里</li>
</ul>
<p>代码高亮：zsh-syntax-highlighting</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-usre/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntx-highlighting</span><br></pre></td></tr></table></figure>

<p>命令补全：zsh-autosuggestions</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>

<p><strong>启用插件</strong><br>编辑 <code>.zshrc</code> 文件中的 plugins 设定：</p>
<p><img src="https://s2.ax1x.com/2019/07/05/ZaMYcV.png" alt="启用插件"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">plugins=(插件1 插件2 插件3 ...) <span class="comment">#注意插件名之间要保留一个空格</span></span><br></pre></td></tr></table></figure>

<p>保存并重新加载配置文件，给出一个提示，见下图：</p>
<p><img src="https://s2.ax1x.com/2019/07/04/ZUahwt.png" alt="zsh compinit"></p>
<p>执行 <code>compaudit</code> 命令，问题源自 custom 目录的权限问题，切换到插件目录给予权限即可：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/custom/plugins</span><br><span class="line">sudo chmod -R 755 zsh-autosuggestions</span><br><span class="line">sudo chmod -R 755 zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/07/04/ZUaROA.png" alt="插件目录权限"></p>
<h2 id="窗体显示美化"><a href="#窗体显示美化" class="headerlink" title="窗体显示美化"></a>窗体显示美化</h2><h3 id="vim-显示美化"><a href="#vim-显示美化" class="headerlink" title="vim 显示美化"></a>vim 显示美化</h3><p>使用 solarzied 配色</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/altercation/solarized.git</span><br></pre></td></tr></table></figure>

<p>创建 <code>.vim/colors/</code> 和 <code>.vimrc</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir -p ~/.vim/colors</span><br><span class="line">cp ~/solarized/vim-solarized/colors/solarized.vim ~/.vim/colors</span><br><span class="line">touch .vimrc</span><br></pre></td></tr></table></figure>

<p>编辑 <code>.vimrc</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> g:solarized_termcolors=256</span><br><span class="line">syntax <span class="built_in">enable</span></span><br><span class="line"><span class="built_in">set</span> background=dark</span><br><span class="line">colorscheme solarized</span><br><span class="line"><span class="built_in">let</span> g:solarized_tertrans=1</span><br></pre></td></tr></table></figure>

<p>Ubuntu 自带的 python 版本是 3.6.8 且没有安装 pip3,需要手动安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python3-pip</span><br></pre></td></tr></table></figure>

<p>安装 powerline-status</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 install --user powerline-status <span class="comment">#安装命令</span></span><br><span class="line"><span class="comment">#命令返回内容</span></span><br><span class="line">Collecting powerline-status</span><br><span class="line">	Downloading https://files.pythonhosted.org/packages/9c/30/8bd3c62642778af9ad813a526c6ff7dd2f98144d6580ad6fab94ca389265/powerline-status-2.7.tar.gz (233kB)</span><br><span class="line">	100% |████████████████████████████████| 235kB 24kB/s</span><br><span class="line">Building wheels <span class="keyword">for</span> collected packages: powerline-status</span><br><span class="line">	Running setup.py bdist_wheel <span class="keyword">for</span> powerline-status ... <span class="keyword">done</span></span><br><span class="line">	Stored <span class="keyword">in</span> directory: /home/rhzhao/.cache/pip/wheels/c4/81/6b/bb1f440b9999fcfda2a1ccdf7b57a886acb08ea3e9e794945d</span><br><span class="line">Successfully built powerline-status</span><br><span class="line">Installing collected packages: powerline-status</span><br><span class="line">Successfully installed powerline-status-2.7</span><br></pre></td></tr></table></figure>

<p>查看安装信息：<code>pip3 show powerline-status</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Name: powerline-status</span><br><span class="line">Version: 2.7</span><br><span class="line">Summary: The ultimate statusline/prompt utility.</span><br><span class="line">Home-page: https://github.com/powerline/powerline</span><br><span class="line">Author: Kim Silkebaekken</span><br><span class="line">Author-email: kim.silkebaekken+vim@gmail.com</span><br><span class="line">License: MIT</span><br><span class="line">Location: /home/rhzhao/.<span class="built_in">local</span>/lib/python3.6/site-packages <span class="comment">#这里是安装目录，后面会用到</span></span><br><span class="line">Requires:</span><br></pre></td></tr></table></figure>

<p>编辑 <code>.vimrc</code> 文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> rtp+=/home/rhzhao/.<span class="built_in">local</span>/lib/python3.6/site-packages/powerline/bindings/vim</span><br><span class="line"><span class="built_in">set</span> nocompatible</span><br><span class="line"><span class="built_in">set</span> t_Co=256</span><br><span class="line"><span class="built_in">let</span> g:minBufExplForceSyntaxEnable = 1</span><br><span class="line"><span class="keyword">if</span> !has(<span class="string">'gui_running'</span>)</span><br><span class="line"><span class="built_in">set</span> ttimeoutlen=10</span><br><span class="line">augroup FastEscape</span><br><span class="line">autocmd!</span><br><span class="line">au InsertEnter * <span class="built_in">set</span> timeoutlen =0</span><br><span class="line">au InsertLeave * <span class="built_in">set</span> timeoutlen =1000</span><br><span class="line">augroup END</span><br><span class="line">endif</span><br><span class="line"><span class="built_in">set</span> laststatus=2</span><br><span class="line"><span class="built_in">set</span> noshowmode</span><br></pre></td></tr></table></figure>

<p>最后 vim 的界面就是图中这样：</p>
<p><img src="https://s2.ax1x.com/2019/07/04/ZUajwq.png" alt="vim_powerline-status"></p>
<h3 id="ls-彩色输出"><a href="#ls-彩色输出" class="headerlink" title="ls 彩色输出"></a>ls 彩色输出</h3><p>在 <code>.zshrc</code> 中加入以下内容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#Change ls colours</span></span><br><span class="line">LS_COLORS=<span class="string">"ow=01;36;40"</span> &amp;&amp; <span class="built_in">export</span> LS_COLORS</span><br><span class="line"><span class="comment">#make cd use the ls colours</span></span><br><span class="line"><span class="built_in">zstyle</span> <span class="string">':completion:*'</span> list-colors <span class="string">"<span class="variable">$&#123;(@s.:.)LS_COLORS&#125;</span>"</span></span><br><span class="line"><span class="built_in">autoload</span> -Uz compinit</span><br><span class="line">compinit</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/07/05/Za1y3n.png" alt="ls_color"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><strong>感谢他们的付出和贡献</strong><br><a href="https://spencerwoo.com/dowww/" target="_blank" rel="noopener">Dev on Windows with WSL</a><br><a href="https://segmentfault.com/a/1190000016677670?utm_source=tag-newest" target="_blank" rel="noopener">WSL 配置指北：打造 Windows 最强命令行</a><br><a href="https://faymek.github.io/2018/11/03/WSL使用笔记/" target="_blank" rel="noopener">Fay Mek 的 WSL 使用笔记</a><br><a href="https://www.jianshu.com/p/bc38ed12da1d" target="_blank" rel="noopener">Windows10内置Linux子系统初体验</a><br><a href="https://spencerwoo.com/posts/2019/02/14/powershellterminal.html" target="_blank" rel="noopener">告别 Windows 终端的难看难用，从改造 PowerShell 的外观开始</a><br><a href="https://zzycreate.github.io/2018/11/18/%E4%BD%BF%E7%94%A8WSL%E5%9C%A8Windows%E4%B8%AD%E4%BD%93%E9%AA%8CLinux/" target="_blank" rel="noopener">使用WSL在Windows中体验Linux</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">RH.Zhao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://ryoheizhao.github.io/windows-terminal-install/">https://ryoheizhao.github.io/windows-terminal-install/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ryoheizhao.github.io">RyoHei's Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/wsl/">wsl</a><a class="post-meta__tags" href="/tags/windows-terminal/">windows terminal</a></div><nav id="pagination"><div class="next-post pull-right"><a href="/hexo-github-bulid_blog/"><span>hexo 博客系统搭建</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2019 By RH.Zhao</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>